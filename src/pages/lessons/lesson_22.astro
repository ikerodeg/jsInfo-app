---
import MainLayout from "@/layouts/MainLayout.astro"
import Footer from "@/components/Footer.astro"
import LssnArt from "@/components/LssnArt.astro"
import ChaptrSect from "@/components/ChaptrSect.astro"
import ChaptrSubSect from "@/components/ChaptrSubSect.astro"
---
<MainLayout>
  <LssnArt artClass="lssn__22" h2Title="JSON" slot="mainContent">
    <ChaptrSect h3Title="Conversión" codeText="">
      <ChaptrSubSect h4Title="De objeto a JSON" codeText="JSON.stringify()">
        <p class="chaptrSubSect__p">Sintaxis</p>
        <pre class="chaptrSubSect__console wScript">
          çJSON.ªstringify(#value, #replacer?, #space?);</pre>
        <ul class="chaptrSubSect__ul">
          <li class="chaptrSubSectUl__li"><code>value</code>: Es el valor a convertir a JSON.</li>
          <li class="chaptrSubSectUl__li"><code>replacer</code>: Puede ser un array de propiedades que se incluirán, o una función (key, value) que permite filtrar o transformar valores.</li>
          <li class="chaptrSubSectUl__li"><code>space</code>: Número de espacios o caracteres de tabulación para formatear el resultado (útil para hacerlo legible).</li>
        </ul>
        <p class="chaptrSubSect__p">Convierte el objeto en un string <code>JSON</code>. Omite propiedades que sean <code>functions</code>, <code>Symbols</code> o <code>undefined</code></p>
        <pre class="chaptrSubSect__console wScript">
          const çmyObj = &#123;name: 'Éder', age: ¬5&#125;;

          console.log(çmyObj);
          ⋗ /º &#123;name: 'Éder', age: ¬5&#125; º/

          const ·myJSON = çJSON.ªstringify(çmyObj);

          console.log(·myJSON);
          ⋗ /º" &#123;"name":"Éder","age":5&#125; "º/</pre>
      </ChaptrSubSect>
      <ChaptrSubSect h4Title="De JSON a objeto" codeText="JSON.parse()">
        <p class="chaptrSubSect__p">Sintaxis</p>
        <pre class="chaptrSubSect__console wScript">
          çJSON.ªparse(#string, #reviver?);</pre>
        <ul class="chaptrSubSect__ul">
          <li class="chaptrSubSectUl__li"><code>string</code>: Es el string en formato JSON a analizar.</li>
          <li class="chaptrSubSectUl__li"><code>reviver</code>: <code>function(key, value)</code> que será llamado para cada par (propiedad, valor), permitiendo transformar los datos antes de devolver el objeto final.</li>
        </ul>
        <p class="chaptrSubSect__p">Convierte un JSON a objeto de JavaScript</p>
        <pre class="chaptrSubSect__console wScript">
          const ·userDataJSON = `&#123;
            "name": "Éder",
            "age": 5,
            "family": ["Iker", "Bego", "Jose", "Yaya"]
          &#125;`;

          let ·user = çJSON.ªparse(·userDataJSON);

          console.log(·user);
          ⋗ /º &#123;name: 'Éder', age: 5, family: Array(4)&#125; º/

          console.log(·user.•family[¬0]);
          ⋗ /º'Iker'º/
        
          /*/º ⚠️ Importante: el texto JSON debe usar comillas dobles (") º/*/
          /*/º para las propiedades y los strings, y no debe contener comas º/*/
          /*/º finales ni valores no válidos como undefined º/*/</pre>
        <p class="chaptrSubSect__p">Podemos usar el parámetro <code>reviver</code> para transformar los valores durante la conversión, por ejemplo, para convertir fechas en objetos <code>Date</code></p>
        <pre class="chaptrSubSect__console wScript">
          let ·myJSON = '/º&#123;"title": "Conference", "date": "2017-11-30T12:00"&#125;º/';

          let çmeetup = çJSON.ªparse(·myJSON, @function(#key, #value) &#123;
            if (#key === 'date') return new @Date(#value);
            return #value;
          &#125;);

          console.log(çmeetup.•date.ªgetDate());
          ⋗ 30</pre>
      </ChaptrSubSect>
    </ChaptrSect>
  </LssnArt>
	<Footer slot="mainFooter" prevPage="/lessons/lesson_21" nextPage="/lessons/lesson_23"/>
</MainLayout>




<!-- 
&lt;&gt;
()&#123;&#125;
﹛﹜    Llaves no estiladas
﹕     2 puntos no estilizados
ªmétodos
•parametro
·variable
#variable en Func/if/for
çObjetos
⋗ ∞Resultado
@funcion()
¬numbers
objProperty:
ºobjProperty
/* comentario */
'/º modo texto quita span º/'
<p class="chaptrSubSect__p">
<pre class="chaptrSubSect__console wScript">
<table class="chaptrSubSect__table">
<ul class="chaptrSubSect__ul">
<li class="chaptrSubSectUl__li">
＃
-->
